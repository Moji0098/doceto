{"ast":null,"code":"var _jsxFileName = \"/Users/x/Desktop/projects/doctoretoo/src/pages/Search.jsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport SelectOption from \"../components/SelectOption\";\nimport docData from \"../data/data.json\";\nimport searchIcon from \"../assets/icons/search.svg\";\nimport spec from \"../data/specialities.json\";\nimport Doctors from \"../components/Doctors\";\nimport right from \"../assets/icons/right-dark.svg\";\nimport left from \"../assets/icons/left-dark.svg\";\nconst data = docData[\"data\"];\nconst selectorData = spec[\"specialities\"];\n\nfunction Filter(props) {\n  const [filtredData, setFiltredData] = useState([]);\n  const [selectValue, setSelectValue] = useState(null);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [menu, setMenu] = useState(false);\n  const [showValue, setShowValue] = React.useState(\"\");\n\n  const handleSelect = (showValue, slug) => {\n    setSelectValue(slug);\n    props.history.replace({\n      pathname: \"/search/speciality\" + `/${slug}`,\n      search: searchValue === \"\" ? \"\" : `keyword=${searchValue}`\n    });\n    setMenu(prev => !prev);\n    setShowValue(showValue);\n  };\n\n  const handleSearch = e => {\n    let value = e.target.value;\n    setSearchValue(value);\n    props.history.replace({\n      pathname: selectValue ? \"/search/speciality\" + `/${selectValue}` : \"\",\n      search: value === \"\" ? \"\" : `keyword=${value}`\n    });\n  };\n\n  useEffect(() => {\n    const {\n      pathname,\n      search\n    } = props.location;\n\n    if (pathname === \"/search/speciality\" && search) {\n      setFiltredData(data);\n      setSearchValue(decodeURIComponent(search.replace(\"?keyword=\", \"\")));\n      setFiltredData(data.filter(d => d.fullName.includes(searchValue)));\n    } else if (pathname === \"/search/speciality\" && selectValue) {\n      setFiltredData(data);\n      setFiltredData(data.filter(d => d.fullName.includes(selectValue)));\n    } else if (pathname === \"/search/speciality\" && !search) {\n      setFiltredData(data);\n    } else if (pathname !== \"/search/speciality\" && search) {\n      setFiltredData(data);\n      setSearchValue(decodeURIComponent(search.replace(\"?keyword=\", \"\")));\n      setSelectValue(pathname.replace(\"/search/speciality/\", \"\"));\n      setShowValue(selectorData.filter(r => pathname.replace(\"/search/speciality/\", \"\") === r.slug)[0][\"name\"]);\n      setFiltredData(data.filter(d => d.fullName.includes(searchValue)).filter(d => d.specialities.some(c => [selectValue].includes(c.slug))));\n    } else if (pathname !== \"/search/speciality\" && search || \"\") {\n      setFiltredData(data);\n      setSearchValue(decodeURIComponent(search.replace(\"?keyword=\", \"\")));\n      setSelectValue(pathname.replace(\"/search/speciality/\", \"\"));\n      setShowValue(selectorData.filter(r => pathname.replace(\"/search/speciality/\", \"\") === r.slug)[0][\"name\"]);\n      setFiltredData(data.filter(d => d.fullName.includes(searchValue)).filter(d => d.specialities.some(c => [selectValue].includes(c.slug))));\n    } else if (pathname !== \"/search/speciality\" && !search) {\n      setFiltredData(data);\n      setSelectValue(pathname.replace(\"/search/speciality/\", \"\"));\n      setShowValue(selectorData.filter(r => pathname.replace(\"/search/speciality/\", \"\") === r.slug)[0][\"name\"]);\n      setFiltredData(data.filter(d => d.specialities.some(c => [selectValue].includes(c.slug))));\n    }\n  }, [searchValue, selectValue]);\n\n  const openSelector = () => {\n    setMenu(prev => !prev);\n  };\n\n  const clearSelector = () => {\n    setSelectValue(null);\n    props.history.replace({\n      pathname: \"/search/speciality\",\n      search: searchValue === \"\" ? \"\" : `keyword=${searchValue}`\n    });\n    setShowValue(\"انتخاب کنید\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"banner-child \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"banner-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, \"\\u0645\\u0634\\u0627\\u0648\\u0631\\u0647 \\u067E\\u0632\\u0634\\u06A9\\u06CC\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"banner-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"\\u0628\\u0647 \\u0634\\u06A9\\u0644 \\u062A\\u0644\\u0641\\u0646\\u06CC \\u06CC\\u0627 \\u0645\\u062A\\u0646\\u06CC \\u0628\\u0627 \\u0628\\u0647\\u062A\\u0631\\u06CC\\u0646 \\u067E\\u0632\\u0634\\u06A9\\u0627\\u0646 \\u0645\\u0634\\u0627\\u0648\\u0631\\u0647 \\u06A9\\u0646\\u06CC\\u062F\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SelectOption, {\n    title: \"\\u0642\\u0635\\u062F \\u0645\\u0634\\u0627\\u0648\\u0631\\u0647 \\u062F\\u0631 \\u0686\\u0647 \\u062A\\u062E\\u0635\\u0635\\u06CC  \\u062F\\u0627\\u0631\\u06CC\\u062F \\u061F\",\n    openMenu: openSelector,\n    showSelectMenu: menu,\n    selectRow: handleSelect,\n    showValue: showValue,\n    data: selectorData,\n    clear: clearSelector,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"select-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"\\u0627\\u06AF\\u0631 \\u067E\\u0632\\u0634\\u06A9 \\u0631\\u0627 \\u0645\\u06CC\\u0634\\u0646\\u0627\\u0633\\u06CC\\u062F \\u062C\\u0633\\u062A\\u062C\\u0648 \\u06A9\\u0646\\u06CC\\u062F :\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-parent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search-input\",\n    placeholder: \"\\u062C\\u0633\\u062A\\u062C\\u0648\\u06CC \\u0646\\u0627\\u0645 \\u067E\\u0632\\u0634\\u06A9\",\n    onChange: handleSearch,\n    value: searchValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"search-icon\",\n    src: searchIcon,\n    alt: \"\\u062C\\u0633\\u062A\\u062C\\u0648\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-body-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, showValue && filtredData.length > 0 ? `مشاوره تخصصی با متخصص ${showValue}` : \"مشاوره با بهترین متخصصین\"), filtredData.map(filter => {\n    const {\n      _id,\n      avatar,\n      city,\n      fullName,\n      specialities,\n      services,\n      medicalCode\n    } = filter;\n    return /*#__PURE__*/React.createElement(Doctors, {\n      key: _id,\n      avatar: avatar,\n      city: city.name,\n      fullName: fullName,\n      specialities: specialities,\n      services: services,\n      medicalCode: medicalCode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    });\n  }), filtredData.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \"\\u0646\\u062A\\u06CC\\u062C\\u0647 \\u0627\\u06CC \\u06CC\\u0627\\u0641\\u062A \\u0646\\u0634\\u062F :(\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"page-icon\",\n    src: right,\n    alt: \"arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, \"...\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-number page-number-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, \"...\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, \"200\"), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"page-icon\",\n    src: left,\n    alt: \"arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default Filter;","map":{"version":3,"sources":["/Users/x/Desktop/projects/doctoretoo/src/pages/Search.jsx"],"names":["React","useState","useEffect","useRef","SelectOption","docData","spec","Doctors","data","selectorData","Filter","props","filtredData","setFiltredData","selectValue","setSelectValue","searchValue","setSearchValue","menu","setMenu","showValue","setShowValue","handleSelect","slug","history","replace","pathname","search","prev","handleSearch","e","value","target","location","decodeURIComponent","filter","d","fullName","includes","r","specialities","some","c","openSelector","clearSelector","searchIcon","length","map","_id","avatar","city","services","medicalCode","name","right","left"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport SelectOption from \"../components/SelectOption\";\nimport docData from \"../data/data.json\";\nimport searchIcon from \"../assets/icons/search.svg\";\nimport spec from \"../data/specialities.json\";\nimport Doctors from \"../components/Doctors\";\nimport right from \"../assets/icons/right-dark.svg\";\nimport left from \"../assets/icons/left-dark.svg\";\nconst data = docData[\"data\"];\nconst selectorData = spec[\"specialities\"];\n\nfunction Filter(props) {\n  const [filtredData, setFiltredData] = useState([]);\n  const [selectValue, setSelectValue] = useState(null);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [menu, setMenu] = useState(false);\n  const [showValue, setShowValue] = React.useState(\"\");\n\n  const handleSelect = (showValue, slug) => {\n    setSelectValue(slug);\n\n    props.history.replace({\n      pathname: \"/search/speciality\" + `/${slug}`,\n      search: searchValue === \"\" ? \"\" : `keyword=${searchValue}`,\n    });\n    setMenu((prev) => !prev);\n    setShowValue(showValue);\n  };\n\n  const handleSearch = (e) => {\n    let value = e.target.value;\n    setSearchValue(value);\n    props.history.replace({\n      pathname: selectValue ? \"/search/speciality\" + `/${selectValue}` : \"\",\n      search: value === \"\" ? \"\" : `keyword=${value}`,\n    });\n  };\n\n  useEffect(() => {\n    const { pathname, search } = props.location;\n    if (pathname === \"/search/speciality\" && search) {\n      setFiltredData(data);\n      setSearchValue(decodeURIComponent(search.replace(\"?keyword=\", \"\")));\n      setFiltredData(data.filter((d) => d.fullName.includes(searchValue)));\n    } else if (pathname === \"/search/speciality\" && selectValue) {\n      setFiltredData(data);\n      setFiltredData(data.filter((d) => d.fullName.includes(selectValue)));\n    } else if (pathname === \"/search/speciality\" && !search) {\n      setFiltredData(data);\n    } else if (pathname !== \"/search/speciality\" && search) {\n      setFiltredData(data);\n      setSearchValue(decodeURIComponent(search.replace(\"?keyword=\", \"\")));\n      setSelectValue(pathname.replace(\"/search/speciality/\", \"\"));\n      setShowValue(\n        selectorData.filter(\n          (r) => pathname.replace(\"/search/speciality/\", \"\") === r.slug\n        )[0][\"name\"]\n      );\n\n      setFiltredData(\n        data\n          .filter((d) => d.fullName.includes(searchValue))\n          .filter((d) =>\n            d.specialities.some((c) => [selectValue].includes(c.slug))\n          )\n      );\n    } else if ((pathname !== \"/search/speciality\" && search) || \"\") {\n      setFiltredData(data);\n      setSearchValue(decodeURIComponent(search.replace(\"?keyword=\", \"\")));\n      setSelectValue(pathname.replace(\"/search/speciality/\", \"\"));\n      setShowValue(\n        selectorData.filter(\n          (r) => pathname.replace(\"/search/speciality/\", \"\") === r.slug\n        )[0][\"name\"]\n      );\n      setFiltredData(\n        data\n          .filter((d) => d.fullName.includes(searchValue))\n          .filter((d) =>\n            d.specialities.some((c) => [selectValue].includes(c.slug))\n          )\n      );\n    } else if (pathname !== \"/search/speciality\" && !search) {\n      setFiltredData(data);\n      setSelectValue(pathname.replace(\"/search/speciality/\", \"\"));\n      setShowValue(\n        selectorData.filter(\n          (r) => pathname.replace(\"/search/speciality/\", \"\") === r.slug\n        )[0][\"name\"]\n      );\n      setFiltredData(\n        data.filter((d) =>\n          d.specialities.some((c) => [selectValue].includes(c.slug))\n        )\n      );\n    }\n  }, [searchValue, selectValue]);\n\n  const openSelector = () => {\n    setMenu((prev) => !prev);\n  };\n\n  const clearSelector = () => {\n    setSelectValue(null);\n\n    props.history.replace({\n      pathname: \"/search/speciality\",\n      search: searchValue === \"\" ? \"\" : `keyword=${searchValue}`,\n    });\n    setShowValue(\"انتخاب کنید\");\n  };\n\n  return (\n    <div className=\"filter\">\n      <div className=\"banner\">\n        <div className=\"banner-child \">\n          <div className=\"banner-title\">مشاوره پزشکی</div>\n          <div className=\"banner-content\">\n            به شکل تلفنی یا متنی با بهترین پزشکان مشاوره کنید\n          </div>\n        </div>\n      </div>\n      <div className=\"container\">\n        <div className=\"filter-head\">\n          <SelectOption\n            title=\"قصد مشاوره در چه تخصصی  دارید ؟\"\n            openMenu={openSelector}\n            showSelectMenu={menu}\n            selectRow={handleSelect}\n            showValue={showValue}\n            data={selectorData}\n            clear={clearSelector}\n          />\n          <div className=\"search-box\">\n            <div className=\"select-title\">\n              اگر پزشک را میشناسید جستجو کنید :\n            </div>\n            <div className=\"search-parent\">\n              <input\n                className=\"search-input\"\n                placeholder=\"جستجوی نام پزشک\"\n                onChange={handleSearch}\n                value={searchValue}\n              />\n              <img className=\"search-icon\" src={searchIcon} alt=\"جستجو\" />\n            </div>\n          </div>\n        </div>\n        <div className=\"filter-body\">\n          <div className=\"filter-body-title\">\n            {showValue && filtredData.length > 0\n              ? `مشاوره تخصصی با متخصص ${showValue}`\n              : \"مشاوره با بهترین متخصصین\"}\n          </div>\n\n          {filtredData.map((filter) => {\n            const {\n              _id,\n              avatar,\n              city,\n              fullName,\n              specialities,\n              services,\n              medicalCode,\n            } = filter;\n            return (\n              <Doctors\n                key={_id}\n                avatar={avatar}\n                city={city.name}\n                fullName={fullName}\n                specialities={specialities}\n                services={services}\n                medicalCode={medicalCode}\n              />\n            );\n          })}\n          {filtredData.length === 0 && (\n            <div className=\"no-result\">نتیجه ای یافت نشد :(</div>\n          )}\n        </div>\n        <div className=\"pagination\">\n          <img className=\"page-icon\" src={right} alt=\"arrow\" />\n          <div className=\"page-number\">1</div>\n          <div className=\"page-number\">...</div>\n          <div className=\"page-number\">3</div>\n          <div className=\"page-number page-number-active\">4</div>\n          <div className=\"page-number\">5</div>\n          <div className=\"page-number\">...</div>\n          <div className=\"page-number\">200</div>\n          <img className=\"page-icon\" src={left} alt=\"arrow\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Filter;\n"]},"metadata":{},"sourceType":"module"}